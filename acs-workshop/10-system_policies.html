<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>System Policies in RHACS :: ACS Workshop</title>
    <link rel="canonical" href="https://redhat-scholars.github.io/acs-workshop/acs-workshop/10-system_policies.html">
    <link rel="prev" href="09-configuration_management.html">
    <link rel="next" href="11-integrations.html">
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../_/css/site.css">
<link rel="icon" href="../_/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://developers.redhat.com" target="_blank"><img
          src="../_/img/header_logo.png" height="40px" alt="Red Hat Developer Program"></a>
      <a class="navbar-item" href="https://redhat-scholars.github.io/acs-workshop">ACS Workshop</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Books</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">CheatSheets</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">CheatSheet A</a>
            <a class="navbar-item" href="#">CheatSheet B</a>
            <a class="navbar-item" href="#">CheatSheet C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Upcoming Events</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Event A</a>
            <a class="navbar-item" href="#">Event B</a>
            <a class="navbar-item" href="#">Event C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">More Tutorials</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Tutorial A</a>
            <a class="navbar-item" href="#">Tutorial B</a>
            <a class="navbar-item" href="#">Tutorial C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="acs-workshop" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">ACS Workshop</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="02-getting_started.html">Getting Started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-getting_started.html#install_acs_operator">Install ACS Operator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-getting_started.html#install_acs_central">Install ACS Central Cluster</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-getting_started.html#config_acs_securedcluster">Configuration of the ACS Secured Cluster </a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="03-overview-acs.html">ACS Overview</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-overview-acs.html#acs_architecture">ACS Architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="03-overview-acs.html#dashboard_acs">ACS Dashboard</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03-overview-acs.html#dashboard_acs_header">Dashboard Header</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03-overview-acs.html#dashboard_acs_menu">Dashboard Left Menu</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03-overview-acs.html#dashboard_acs_information">Dashboard Information</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="04-vulnerabilities.html">Vulnerability Management</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04-vulnerabilities.html#vulnerability_management_panel">Review Vulnerability Management Dashboard</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04-vulnerabilities.html#review_cve_images">Image CVE Vulnerability Analysis</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04-vulnerabilities.html#image_overview_image_details">Image overview and image details</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="05-risk.html">Risk</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="05-risk.html#risk_dashboard">Review Risk Dashboard</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="05-risk.html#risk_single_deployment_details">Single Deployment Details</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="05-risk.html#risk_process_discovery">Process Discovery / Runtime</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="05-risk.html#risk_filtering">Filtering</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="06-network_graph.html">Network Graph</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="06-network_graph.html#network_graph_overview">Network Graph Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="06-network_graph.html#network_graph_views">Network Graph Views</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="06-network_graph.html#network_policy_simulator">Network Policy Simulator</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="07-violations.html">Violations</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="07-violations.html#violations_overview">Violations Dashboard Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="07-violations.html#violations_example">Violations Build &amp; Deploy Example</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="07-violations.html#violations_runtime">Violations Runtime Example</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="07-violations.html#violations_behaviour">Violations Behaviour</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="07-violations.html#policy_summary">Policy Summary</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="08-compliance.html">Compliance</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="08-compliance.html#compliance_dashboard">Review Compliance Dashboard</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="08-compliance.html#compliance_dashboard_scan">Execute the first Compliance Scan</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="08-compliance.html#compliance_dashboard_review">Review the Compliance Reports in the Compliance Dashboard</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="08-compliance.html#compliance_dashboard_ns">Namespace Compliance Details</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="08-compliance.html#compliance_dashboard_report">Evidence Export</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="08-compliance.html#compliance_operator">Integrating Compliance Operator with ACS </a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="08-compliance.html#compliance_operator_acs_review">Review Compliance Scans of the Compliance Operator in ACS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="08-compliance.html#acs_policy_compliance">Configure Policy in ACS to Invoke Compliance related Controls</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="08-compliance.html#acs_policy_compliance_nist">Enforce Policies that Meet Guidance for NIST Control 4.2.2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="08-compliance.html#acs_policy_compliance_nist_view">View Updated Compliance Scan Results in ACS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="08-compliance.html#acs_policy_compliance_nist_revert">Revert the Policy Changes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="09-configuration_management.html">Configuration Management</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="09-configuration_management.html#conf_management_overview">Configuration Management Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="09-configuration_management.html#conf_management_cis">Configuration Management CIS</a>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="10-system_policies.html">System Policies</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#system_policies_overview">System Policies Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#system_policies_example">System Policies Build and Deploy Example</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#system_policies_enforcement">System Policies Enforcement</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#create_new_policy">Create New Policy</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="11-integrations.html">ACS Integrations</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="11-integrations.html#integrate_acs_oauth">Integrate ACS with OpenShift OAuth</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="11-integrations.html#integrate_acs_webhook">Integrate ACS with Webhook for Audit</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="12-platform_configuration.html">ACS Secure Cluster Management</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="12-platform_configuration.html#clusters">ACS Clusters</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="12-platform_configuration.html#system_configuration">ACS System Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="12-platform_configuration.html#system_health">ACS System Health</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="12-platform_configuration.html#system_health_diagnostic">Generating System Bundle</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="12-platform_configuration.html#access_control">ACS Access Control</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="13-cicd.html">DevSecOps Pipelines</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="13-cicd.html#integration_demo_ocp_pipelines">Integration Demo - Openshift Pipelines with RHACS</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">ACS Workshop</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">ACS Workshop</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">ACS Workshop</a></li>
    <li><a href="10-system_policies.html">System Policies</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/emreozkangit/emreozkangit.github.io/edit/master/documentation/modules/ROOT/pages/10-system_policies.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">System Policies in RHACS</h1>
<div class="sect1">
<h2 id="system_policies_overview"><a class="anchor" href="#system_policies_overview"></a>System Policies Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Red Hat Advanced Cluster Security for Kubernetes allows you to use out-of-the-box security policies and define custom multi-factor policies for your container environment.</p>
</div>
<div class="paragraph">
<p>Configuring these policies enables you to automatically prevent high-risk service deployments in your environment and respond to runtime security incidents.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/policies/00-policies.png" alt="ACS Policies 0" width="800">
</div>
</div>
<div class="paragraph">
<p>All of the policies that ship with the product are designed with the goal of providing targeted remediation that improves security hardening.</p>
</div>
<div class="paragraph">
<p>You’ll see this list contains many Build and Deploy time policies to catch misconfigurations early in the pipeline, but also Runtime policies that point back to specific hardening recommendations.</p>
</div>
<div class="paragraph">
<p>These policies come from us at Red Hat - our expertise, our interpretation of industry best practice, and our interpretation of common compliance standards, but you can modify them or create your own.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="system_policies_example"><a class="anchor" href="#system_policies_example"></a>System Policies Build and Deploy Example</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Click on the Red Hat Package Manager in Image Policy to view policy details.</p>
</li>
<li>
<p>You can use the filter.</p>
<div class="imageblock">
<div class="content">
<img src="_images/policies/05-policies.png" alt="ACS Policies 5" width="800">
</div>
</div>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/policies/06-policies.png" alt="ACS Policies 6" width="800">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/policies/07-policies.png" alt="ACS Policies 7" width="800">
</div>
</div>
<div class="paragraph">
<p>This is what an ACS policy looks like - front and center you can see the Rationale and Remediation designed to give the DevOps team some context about why this issue is important for security, and more importantly, what to do about the issue.</p>
</div>
<div class="paragraph">
<p>You might get the impression that we don’t like Package Managers!</p>
</div>
<div class="paragraph">
<p>While useful, in a container context they just represent a tool that an attacker can use to install software, and don’t have a legitimate use - a container should ship with all of the dependencies it requires.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/policies/02-policies.png" alt="ACS Policies 2" width="400">
</div>
</div>
<div class="paragraph">
<p>Policy criteria can cross the build, deploy, and runtime lifecycles.</p>
</div>
<div class="paragraph">
<p>For example, policies that highlight vulnerabilities in deployments with privileged containers in that deployment.</p>
</div>
<div class="paragraph">
<p>Another example might runtime criteria - like execution of shell commands - in containers in deployments that have external network exposure.</p>
</div>
<div class="paragraph">
<p>It’s easy to write a policy that prevents use of compilers and other build tools - except in development clusters, in namespaces for CI/CD tools.</p>
</div>
<div class="paragraph">
<p>There are no “silos” - other tools require you to manage policies for vulnerabilities and runtime separately.</p>
</div>
<div class="paragraph">
<p>The unified policy engine allows for targeted conditions and targeted enforcement, easily allowing exceptions for specific applications once approved by security.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="system_policies_enforcement"><a class="anchor" href="#system_policies_enforcement"></a>System Policies Enforcement</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Click on the Fixable Severity at least important policy in the list. (It’s usually 20-30 rows down. You can also filter for it by typing “fixable” in the filters bar.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/policies/08-policies.png" alt="ACS Policies 8" width="800">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/policies/09-policies.png" alt="ACS Policies 9" width="800">
</div>
</div>
<div class="paragraph">
<p>As you’ve seen - ACS focuses on empowering and encouraging developers to understand and resolve security issues in their own deployments.</p>
</div>
<div class="paragraph">
<p>Sometimes we have to balance the carrot with a little stick, because security officers need to know that dangerous misconfigurations won’t be promoted and deployed in certain environments, and that’s where enforcement of policy comes in.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Click Actions and Edit in the upper right of the policy</p>
</li>
<li>
<p>Click Next to see Policy behaviour</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Enforcement is another demonstration of Kubernetes-native security, leveraging the pipeline process to prevent unacceptable risks.</p>
</div>
<div class="paragraph">
<p>In the absence of CI/CD integration, or for images that are promoted without going through CI/CD, we leverage the built-in power of a Kubernetes Admission Controller to decide if a deployment can be created.</p>
</div>
<div class="paragraph">
<p>We’re essentially programming OpenShift to prevent security risk
Security gets their enforcement, and DevOps sees a “normal” failure from the OpenShift API, with clear remediation steps instead of a nebulous error that forces them to go open a ticket or look in another console.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Click enable for both Build and Deploy enforcement. You can save this policy. But we dont need to save this policy now. We will create policy with enforcement later. Click <code>Cancel</code> and exit editing policy page.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/policies/10-policies.png" alt="ACS Policies 10" width="800">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create_new_policy"><a class="anchor" href="#create_new_policy"></a>Create new Policy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can create new security policies from the system policies view.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On the RHACS portal, navigate to Platform Configuration → Policies.</p>
</li>
<li>
<p>Click Create policy</p>
<div class="imageblock">
<div class="content">
<img src="_images/policies/11-policies.png" alt="ACS Policies 11" width="800">
</div>
</div>
</li>
<li>
<p>Enter the following details about your policy in the Policy details section:</p>
<div class="ulist">
<ul>
<li>
<p>Enter an example Name for the policy. <code>Example Process Policy</code>
We will create an example policy for process.</p>
</li>
<li>
<p>Select a Severity level for this policy, either Critical, High, Medium, or Low. You can select <code>Medium</code></p>
</li>
<li>
<p>Select policy Categories you want to apply to this policy. Select <code>Devops Best Practices</code></p>
</li>
<li>
<p>Enter details about the policy in the Description box.</p>
</li>
<li>
<p>Enter an explanation about why the policy exists in the Rationale box. <code>we dont want to use dd command in the container.</code></p>
</li>
<li>
<p>Enter steps to resolve violations of this policy in the Guidance box.Users can see this message. For example <code>Please dont use "dd" command in the container</code></p>
</li>
<li>
<p>Optional: Under the MITRE ATT&amp;CK section, select the tactics and the techniques you want to specify for the policy.You can add tactics and techniques for this policy.</p>
<div class="imageblock">
<div class="content">
<img src="_images/policies/12-policies.png" alt="ACS Policies 12" width="900">
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Click <code>Next</code></p>
</li>
<li>
<p>In the Policy behavior section, select the Lifecycle stages and Event sources (Runtime lifecycle only) for the policy.</p>
<div class="ulist">
<ul>
<li>
<p>Choose Lifecycle Stages to which your policy is applicable, from Build, Deploy, or Runtime.  We will select <code>Runtime</code> for this example. You can select more than one stage.</p>
<div class="ulist">
<ul>
<li>
<p>Build-time policies apply to image fields such as CVEs and Dockerfile instructions.</p>
</li>
<li>
<p>Deploy-time policies can include all build-time policy criteria but they can also include data from your cluster configurations, such as running in privileged mode or mounting the Docker socket.</p>
</li>
<li>
<p>Runtime policies can include all build-time and deploy-time policy criteria but they can also include data about process executions during runtime.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>For Response method, Select <code>Inform and enforce</code></p>
<div class="imageblock">
<div class="content">
<img src="_images/policies/13-policies.png" alt="ACS Policies 13" width="900">
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s look differences:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Inform to include the violation in the violations list.</p>
</li>
<li>
<p>Inform and enforce to enforce actions.</p>
<div class="ulist">
<ul>
<li>
<p>Choose the enforcement behavior for the policy. It is only available for the stages you select when configuring Lifecycle Stages. Select ON (enable) to enforce policy and report a violation, and OFF (disable) to only report a violation. The enforcement behavior is different for each lifecycle stage.</p>
<div class="ulist">
<ul>
<li>
<p><code>Build</code> - Red Hat Advanced Cluster Security for Kubernetes fails your continuous integration (CI) builds when images match the conditions of the policy.</p>
</li>
<li>
<p><code>Deploy</code> - Red Hat Advanced Cluster Security for Kubernetes blocks creation of deployments that match the conditions of the policy. In clusters with admission controller enforcement, the Kubernetes or OpenShift Container Platform API server blocks all noncompliant deployments. In other clusters, Red Hat Advanced Cluster Security for Kubernetes edits noncompliant deployments to prevent pods from being scheduled.</p>
</li>
<li>
<p><code>Runtime</code> - Red Hat Advanced Cluster Security for Kubernetes kills all pods that match the conditions of the policy or blocks the action taken on the pods.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Click <code>Next</code></p>
</li>
<li>
<p>ACS comes some default policy criteria with different categories. <code>Image Registry</code> , <code>Image Contents</code> etc. Let&#8217;s lookup this criterias.You can drag and drop these criterias. For detailed information: <a href="https://docs.openshift.com/acs/3.69/operating/manage-security-policies.html#policy-criteria_manage-security-policies" class="bare">https://docs.openshift.com/acs/3.69/operating/manage-security-policies.html#policy-criteria_manage-security-policies</a></p>
<div class="imageblock">
<div class="content">
<img src="_images/policies/14-policies.png" alt="ACS Policies 14" width="100">
</div>
</div>
</li>
<li>
<p>We will use <code>Process Name</code> criteria at the <code>Process Activity</code> category as shown below.You can drag and drog and fill-up the box with <code>dd</code></p>
<div class="imageblock">
<div class="content">
<img src="_images/policies/15-policies.png" alt="ACS Policies 15" width="800">
</div>
</div>
</li>
<li>
<p>Click <code>Next</code></p>
</li>
<li>
<p>In the Policy scope section,we will use default options.Hovewer you can configure the following:</p>
<div class="ulist">
<ul>
<li>
<p>You can click Add inclusion scope to use Restrict to Scope to enable this policy only for a specific cluster, a namespace, or a label. You can add multiple scopes and also use regular expressions in RE2 Syntax for namespaces and labels.</p>
</li>
<li>
<p>You can click Add exclusion scope to use Exclude by Scope to exclude deployments, clusters, namespaces, and labels you specify, it means that the policy will not apply to the entities that you select. You can add multiple scopes and also use regular expressions in RE2 Syntax for namespaces and labels. However, you cannot use regular expressions for selecting deployments.</p>
</li>
<li>
<p>For Excluded Images (Build Lifecycle only), select all images that you do not want to trigger a violation for.</p>
<div class="imageblock">
<div class="content">
<img src="_images/policies/16-policies.png" alt="ACS Policies 16" width="800">
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Click <code>Next</code></p>
</li>
<li>
<p>In the Review policy section, preview the policy violations at the right side.</p>
</li>
<li>
<p>Click <code>Save</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Now let&#8217;s check the new policy. We will try to run <code>dd</code> command one of container on Openshift Console.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Firstly, we should find our console address.</p>
<div class="imageblock">
<div class="content">
<img src="_images/policies/workshop.png" alt="ACS Policies 17" width="800">
</div>
</div>
</li>
<li>
<p>Login this address on your browser</p>
<div class="imageblock">
<div class="content">
<img src="_images/policies/console1.png" alt="ACS Policies 18" width="800">
</div>
</div>
</li>
<li>
<p>Create Project repeat steps as shown below. We will create a new project for our tests.</p>
<div class="imageblock">
<div class="content">
<img src="_images/policies/console2.png" alt="ACS Policies 19" width="800">
</div>
</div>
</li>
<li>
<p>You can fill the name whatever you want.</p>
<div class="imageblock">
<div class="content">
<img src="_images/policies/console3.png" alt="ACS Policies 20" width="800">
</div>
</div>
</li>
<li>
<p>At this step Click <code>Topology</code> and <code>Container Image</code> tab.</p>
<div class="imageblock">
<div class="content">
<img src="_images/policies/console4.png" alt="ACS Policies 21" width="800">
</div>
</div>
</li>
<li>
<p><code>Image Name: registry.redhat.io/rhscl/httpd-24-rhel7s</code>  Click <code>Create</code></p>
<div class="imageblock">
<div class="content">
<img src="_images/policies/console5.png" alt="ACS Policies 22" width="800">
</div>
</div>
</li>
<li>
<p>If your pod is running, Click your pod name as shown below.</p>
<div class="imageblock">
<div class="content">
<img src="_images/policies/console6.png" alt="ACS Policies 23" width="800">
</div>
</div>
</li>
<li>
<p>Let&#8217;s write down <code>dd</code> on your pod terminal</p>
<div class="imageblock">
<div class="content">
<img src="_images/policies/console7.png" alt="ACS Policies 24" width="800">
</div>
</div>
</li>
<li>
<p>Your enforcement&#8217;s works. Your pod is killed by ACS.</p>
<div class="imageblock">
<div class="content">
<img src="_images/policies/console8.png" alt="ACS Policies 25" width="800">
</div>
</div>
</li>
<li>
<p>Let&#8217;s review at the violation section on your central.</p>
<div class="imageblock">
<div class="content">
<img src="_images/policies/console9.png" alt="ACS Policies 26" width="800">
</div>
</div>
</li>
<li>
<p>Click on your violations for the details.</p>
<div class="imageblock">
<div class="content">
<img src="_images/policies/console10.png" alt="ACS Policies 27" width="800">
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="09-configuration_management.html">Configuration Management</a></span>
  <span class="next"><a href="11-integrations.html">ACS Integrations</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a class="rhd-logo" href="https://developers.redhat.com" target="_blank"></div>
</footer>
<script src="../_/js/vendor/clipboard.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
